<template name="game">
	<div class="game">
		<center>
			<div class="row">
				<div class="col-lg-2 navigation">
					{{#transition transIn="slideLeftBigIn" transOut="slideLeftBigOut" display="block" wait="true"}}
					<div id="sidebar" class="collapsed">
						<button id="full-screen" class="pt-touch-button wide">{{fullScreenText}} Full Screen</button>
						<button id="home" class="pt-touch-button wide">Back to homepage</button>
						<span class="input input--kaede">
							<input class="input__field input__field--kaede" type="text" id="username" value="{{getUsername}}"/>
							<label class="input__label input__label--kaede" for="username">
								<span class="input__label-content input__label-content--kaede">USERNAME</span>
							</label>
						</span>
					</div>
					{{#if inLobby}}
						<button id="create-round" class="{{disabledBtnClass}} pt-touch-button wide" {{disableBtn}} >Start Round</button>
					{{/if}}
					{{/transition}}
				</div>

				<div class="col-lg-6 col-lg-offset-1">
					<!-- TEMP: Probably break into different templates -->
					{{#transition transIn="slideUpBigIn" transOut="slideDownBigOut" display="block" wait="true"}}
						{{#if inLobbyOrStarting}}
							<div class="row game-status">
								<div class="col-lg-12">
										<div id="temp">
											<h3>Game: {{ this.name }}</h3>

											<p><span>Status: {{ gameStatus }}</span>
											<span>
												{{#if inLobbyOrStarting}}
													Upcoming Round: {{ nextRoundNum }}
												{{else}}
													Current Round: {{ roundNum }}
												{{/if}}
											</span>
											</p>
										</div>
									{{#if gameFinished}}
										<div>
											<p>GAME OVER</p>
											<p>Game winner: {{ this.winner }}</p>
										</div>
									{{/if}}
								</div>
							</div>
							<!-- Anim hack -->
						{{else}}
							<div class="row"></div>
						{{/if}}

					{{/transition}}

					<div id="game-view" class="row">
						{{#transition transIn="slideUpBigIn" transOut="slideDownBigOut" display="block" wait="true"}}
							{{> DynamicTemplate template=getTemplate data=getDataContext }}
						{{/transition}}
					</div>
				</div>


				<div id="timer" class="col-lg-2  col-lg-offset-1">
					{{#transition transIn="slideRightBigIn" transOut="slideRightBigOut" display="block" wait="true"}}
						{{#if gameInProgress}}
							<div id="countdown" class="large-screen"></div>
								{{#unless inLobbyOrStarting}}
									{{> guessList}}
								{{/unless}}
						{{/if}}
					{{/transition}}
				</div>

			</div>
		</center>
	</div>
</template>
